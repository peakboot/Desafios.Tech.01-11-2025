# üèÜ Solu√ß√£o: DesafioTech God Level Coder - Analytics para Restaurantes

Esta √© a submiss√£o para o **"God Level Coder Challenge"**.

---

## üéØ O Objetivo do Projeto

O objetivo deste projeto √© resolver um problema de neg√≥cio real enfrentado por donos de restaurantes:  
eles est√£o sentados sobre uma montanha de dados (vendas, produtos, clientes),  
mas n√£o conseguem us√°-los para tomar decis√µes.

Ferramentas de BI gen√©ricas como o Power BI s√£o muito complexas,  
e dashboards fixos n√£o respondem perguntas din√¢micas como:  
> ‚ÄúQual produto vende mais na quinta √† noite no iFood?‚Äù

Esta solu√ß√£o ataca esse problema diretamente.  
√â uma **plataforma de analytics full-stack (React + NestJS)** constru√≠da especificamente para o dom√≠nio de restaurantes,  
permitindo que os usu√°rios explorem seus dados de forma **r√°pida, visual e din√¢mica**.

üìÑ Para uma descri√ß√£o completa da persona, das dores de neg√≥cio e do contexto do desafio, consulte o arquivo **`PROBLEMA.md`**.

---

## ‚ú® O que a Solu√ß√£o Faz (Features)

Constru√≠mos uma **aplica√ß√£o de p√°gina √∫nica (SPA)** que vai al√©m do MVP,  
entregando tamb√©m a **V2 de ‚ÄúFiltros Avan√ßados‚Äù**.

### Dashboard de V1 (MVP)
- Vis√£o imediata dos **4 KPIs centrais**: Faturamento, Ticket M√©dio, Vendas e Cancelamento.  
- **Gr√°fico de Faturamento ao Longo do Tempo** (com preenchimento de dias vazios).  
- **Gr√°fico de Top 10 Produtos** (layout otimizado para nomes longos).  
- **Gr√°fico de Comparativo de Lojas** (layout otimizado para 50+ lojas).  
- **Exporta√ß√£o completa** do dashboard (filtrado) para `.csv`.

### Analytics V2 (Filtros Avan√ßados)
- O dashboard busca dinamicamente as **listas de Lojas e Canais** dispon√≠veis no banco.  
- A usu√°ria pode filtrar todos os gr√°ficos e KPIs **em tempo real** por:
  - Per√≠odo (Data)  
  - Canal Espec√≠fico (ex: iFood, Rappi)  
  - Loja Espec√≠fica  

O backend aplica os filtros dinamicamente usando **queries SQL otimizadas**  
(`CASE WHEN`, `ANY($1)`), garantindo **performance abaixo de 1 segundo em +500k registros**.

---

## üöÄ Como Rodar o Projeto (Guia de Setup)

### ‚úÖ Pr√©-requisitos
Voc√™ precisar√° de **Node.js (v18+)**, **Docker** e **Git** instalados.

### **Passo 1: Clonar o Reposit√≥rio**

```bash
git clone https://github.com/DomCarlosAdriano/Desafios.Tech.01-11-2025.git
cd Desafios.Tech.01-11-2025
```

---

### üß± **Passo 2: Rodar o Banco de Dados (Docker)**

Todo o nosso banco de dados (**PostgreSQL**) e o script de gera√ß√£o de dados rodam via **Docker Compose**.

Navegue at√© a pasta do banco de dados:

```bash
cd DataBase
```

Compile (Build) o Gerador de Dados:  
*(Este passo garante que o container do script est√° pronto para rodar)*

```bash
docker compose build --no-cache data-generator
```

Inicie o Banco de Dados:  
*(Este comando ir√° iniciar o PostgreSQL em background na porta 5432)*

```bash
docker compose up -d postgres
```

Gere os 500k+ Dados:  
*(Este comando executa o script e pode levar de 5 a 15 minutos)*

```bash
docker compose run --rm data-generator
```

---

### ‚öôÔ∏è **Passo 3: Rodar o Backend (NestJS)**

O backend √© a nossa **API**, que se conecta ao banco de dados. *(Requer um terminal separado.)*

Navegue at√© a pasta do backend (a partir da raiz):

```bash
cd backend
```

Instale as depend√™ncias:

```bash
npm install
```

Configure as vari√°veis de ambiente:


```env
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=challenge
DB_PASSWORD="SENHA_AQUI"
DB_DATABASE=challenge_db
```

Inicie o servidor do backend:

```bash
npm run start:dev
```

O terminal deve mostrar:  
**Backend rodando na porta 3000.**

---

### üíª **Passo 4: Rodar o Frontend (React)**

A interface do usu√°rio. *(Requer um terceiro terminal.)*

Navegue at√© a pasta do frontend (a partir da raiz):

```bash
cd FrontEnd
```

Instale as depend√™ncias:

```bash
npm install
```

Inicie o servidor de desenvolvimento:

```bash
npm run dev
```

---

### üåê **Passo 5: Acessar a Aplica√ß√£o**

üéâ Parab√©ns! A stack completa est√° rodando.

Acesse o **Dashboard (Frontend)** em:  
üëâ [http://localhost:5173](http://localhost:5173)


---

## üõ†Ô∏è Stack de Tecnologia

**Frontend:** React, TypeScript, Vite, TailwindCSS, Shadcn/ui (para componentes), Recharts (para gr√°ficos), PapaParse (para CSV). 

**Backend:** NestJS, TypeScript, TypeORM (usando `entityManager` para queries SQL puras otimizadas, garantindo performance).  

**Banco de Dados:** PostgreSQL (rodando em Docker).



---

## üìù Documenta√ß√£o Adicional (Para Avaliadores)
| Documento | Descri√ß√£o |
|-----------|-----------|
| [PROBLEMA.md](./PROBLEMA.md) | Apresenta o contexto do desafio, a persona Maria e as principais dores e necessidades identificadas. |
| [README.md](./README.md) | Guia introdut√≥rio do sistema, com instru√ß√µes de instala√ß√£o e execu√ß√£o passo a passo. |
| [DataBase](./DataBase) | Cont√©m a configura√ß√£o do banco de dados e o docker-compose.yml respons√°vel por subir o PostgreSQL e gerar os dados automaticamente. |
| [backend](./backend) | C√≥digo-fonte do backend (NestJS), incluindo regras de neg√≥cio, servi√ßos e rotas da API REST. |
| [FrontEnd](./FAQ.md) | C√≥digo-fonte do frontend (React + Vite), onde o usu√°rio interage com o sistema atrav√©s da interface.|
| [DECISOES_ARQUITETURAIS.md](./DECISOES_ARQUITETURAIS.md) | Detalha as principais escolhas de arquitetura do projeto, abordando as justificativas das tecnologias e tecnicas adotadas. |



